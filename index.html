<canvas id="pondCanvas"></canvas>
<script>
window.onload = () => {
  const canvas = document.getElementById("pondCanvas");
  const ctx = canvas.getContext("2d");
  const pond = new Image();
  
  // Use the absolute path to ensure it loads on GitHub Pages
  pond.src = "https://natdaexplorer.github.io/ponderingpond/pond.png";

  function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }

  window.addEventListener("resize", resizeCanvas);
  resizeCanvas();

  pond.onload = () => {
    console.log("Pond loaded successfully!");
    animate();
  };

  pond.onerror = () => {
    console.error("Failed to load pond image. Check the file path.");
  };

 function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  const { width, height } = canvas;

  // Background: light cream color
  ctx.fillStyle = "#FFF9F0";
  ctx.fillRect(0, 0, width, height);

  // Maintain original image proportions
  const ratio = pond.width / pond.height;
  let pondWidth = Math.min(width * 0.5, pond.width);
  let pondHeight = pondWidth / ratio;

  if (pondHeight > height * 0.8) {
    pondHeight = height * 0.8;
    pondWidth = pondHeight * ratio;
  }

  // Floating side position (more to the left)
  const offsetX = width * 0.15;
  const offsetY = height / 2 - pondHeight / 2 + Math.sin(Date.now() / 700) * 12;

  // Slight vibrant effect
  ctx.filter = "saturate(1.2) contrast(1.05)";
  ctx.drawImage(pond, offsetX, offsetY, pondWidth, pondHeight);
  ctx.filter = "none";

  requestAnimationFrame(animate);
}
</script>
